from kivy.config import Config
Config.set('input', 'mouse', 'mouse,multitouch_on_demand')
Config.set('graphics', 'width', '800')
Config.set('graphics', 'height', '800')
Config.set('graphics', 'minimum_width', '400')
Config.set('graphics', 'minimum_height', '400')
from kivy.lang import Builder
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import ObjectProperty

from kivymd.app import MDApp
# KV = '''
# <ContentNavigationDrawer>:

#     ScrollView:

#         MDList:

#             OneLineListItem:
#                 text: "Screen 1"
#                 on_press:
#                     root.screen_manager.current = "scr 1"

#             OneLineListItem:
#                 text: "Screen 2"
#                 on_press:
#                     root.screen_manager.current = "scr 2"


# Screen:

#     MDTopAppBar:
#         id: toolbar
#         pos_hint: {"top": 1}
#         elevation: 10
#         title: "Book Reader"
        

        
#     MDNavigationLayout:
#         x: toolbar.height

#         ScreenManager:
#             id: screen_manager

#             Screen:
#                 name: "scr 1"

#                 MDLabel:
#                     text: "Screen 1"
#                     halign: "center"
                
#                     Button:
#                         text: "gay"
#                         pos_hint: {"x":50}
#                         size_hint: (0.5, 0.5)
#                         on_press:
#                             root.screen_manager.current = "scr 2"

#             Screen:
#                 name: "scr 2"

#                 MDLabel:
#                     text: "Screen 2"
#                     halign: "center"

#         MDNavigationDrawer:
#             state: "close"
#             status: "closed"
#             enable_swiping: False
#             id: nav_drawer
#             scrim_color: [0, 0, 0, 0]
#             pos: 0,-60
#             close_on_click: False
#             ContentNavigationDrawer:
#                 screen_manager: screen_manager
#                 nav_drawer: nav_drawer


# '''
KV = '''

<ContentNavigationDrawer>:

    ScrollView:

        MDList:

            OneLineListItem:
                text: "Screen 1"
                on_press:
                    root.screen_manager.current = "scr 1"

            OneLineListItem:
                text: "Screen 2"
                on_press:
                    root.screen_manager.current = "scr 2"


Screen:

    MDTopAppBar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Book Reader"


    FloatLayout: 
        size: root.width, root.height



    ScreenManager:
        id: screen_manager

        Screen:
            name: "main menu"

            MDLabel:
                text: "main menu"
                halign: "center"


        Screen:
            name: "scr 2"
            MDLabel:
                text: "Screen 2"
                halign: "center"
           
    BoxLayout:
        MDIconButton:
            text: "Return"
            size_hint: (0.3, 0.3)
            icon: "icons and images\icons8-settings-500.png" 
            on_press: screen_manager.current = 'main menu'

'''

#  you'll have to redo the return func somehow
#  setup settings, curretnly reading file, main menu including the filters and the rest


class ContentNavigationDrawer(BoxLayout):
    screen_manager = ObjectProperty()
    nav_drawer = ObjectProperty()


class FileReaderApp(MDApp):
    def build(self):
        self.title = "Book Reader"
        return Builder.load_string(KV)


FileReaderApp().run()